openapi: 3.1.0
info:
  title: BRP Berichten API
  version: 0.6.4
  description: |
    Een REST API voor het a-synchroon uitwisselen van berichten welke in het Logisch Ontwerp gedefinieerd zijn.

    # Wijzigingshistorie:

    ## 0.6.4 Maart 2025
    - Details rondom MutualTLS/tweezijdig-TLS d.m.v. PKI-Overheid toegevoegd.

    ## 0.6.3 Januari 2025
    - Tekstuele verwijzing naar '/berichten/list' vervangen door '/berichten'.

    ## 0.6.2 Januari 2025
    - OAuth endpoint demo omgeving gecorrigeerd.

    ## 0.6.1 Januari 2025
    - Ping endpoints zijn niet langer bereikbaar zonder eerst te authenticeren.

    ## 0.6.0 Januari 2025
    - Servers toegevoegd.
      - Hiervoor moesten de paden van de endpoints aangepast worden. Hierdoor is '/api/v1' komen te vervallen bij de endpoints. Dit is verhuist naar de base-url's van de genoemde servers.
    - Authenticatie details toegevoegd.
    - Foutmeldingen bij het conversie endpoint bijgewerkt.
    - Alle namespace paden van de foutmeldingen nagelopen en gecorrigeerd daar waar nodig. Dit zodat ze consistent starten met: "https://www.rvig.nl/brp/berichten-api/probleem/".

    ## 0.5.5 November 2024
    - 'berichtVolgnummer' en 'afzender' required gemaakt in ListMessageKenmerken (en daardoor ook in GetMessageKenmerken).
    - De GET en DELETE foutsituaties zijn voorzien van discriminators ten behoeve van het onderscheiden van foutsituatie subtypes door de gegenereerde client.

    ## 0.5.4 November 2024
    - Properties van PagineringResultaat en PagineerbaarResultaat welke altijd aanwezig zullen zijn bij een list-request required gemaakt.
    - Required properties van put-message-antwoord gecorrigeerd.
    - Schema van het Null bericht gecorrigeerd.

    ## 0.5.3 November 2024
    - Het Sv11 bericht is qua schema aangepast aangezien deze onterecht de property plData bevatte. Deze property is verwijderd uit dit bericht.
    - Foutsituaties zijn voorzien van discriminators ten behoeve van het onderscheiden van foutsituatie subtypes door de gegenereerde client.

    ## 0.5.2 Oktober 2024
    - De request die volledig afgekeurd worden en een statuscode 4xx of 5xx retourneren, doen dit nu met de response header 'Content-Type: application/problem+json'.
    - Requests die een 2xx response in JSON formaat retourneren, doen dit met "Content-Type: application/json" ipv "Content-Type: application/json: charset=utf-8". Conform rfc8259 (https://www.rfc-editor.org/rfc/rfc8259) is JSON altijd in UTF-8 formaat en heeft dit type geen charset parameter.

    ## 0.5.1 Oktober 2024
     - De fout BBA-PUT-F002 is aangepast naar een algemene fout voor onjuiste velden in een PutMessage, via het veld "invalidParams" in de response word aangegeven welke velden onjuist zijn en waarom.

    ## 0.5.0 September 2024
     - Het veld berichtId en verwijzingBerichtId zijn omgezet van type 'integer' naar type 'string' om beter aan te sluiten op de bestaande voorziening.
     - Het probleem-antwoord response object is overal vervangen met de algemene Foutmelding response welke zich conformeert aan RFC7807.
     - De velden 'foutTitel', 'foutType', 'foutDetail' zijn aangepast naar 'title, 'type', 'detail' zodat zij zich conformeren aan de RFC7807.
     - De afhankelijkheid op 'openapi-problem-detail-v1.yml' is komen te vervallen (https://github.com/rvig-brp/BRP-Berichten-API/issues/3).

    ## 0.4.1 Juli 2024
     - Het json-schema voor de autorisatieberichten Ct01, Cw01 en Cb01 is toegevoegd.
     - De ontvanger is opgenomen in de response bij het verzenden van een bericht. Dit is met name relevant wanneer er een bericht naar een berichtgroep gestuurd wordt. In dat geval weet de verzender wie de uiteindelijke ontvangers zijn. Bij het versturen van een bericht naar de een regulier account zal dit nummer 1:1 overeenkomen met de ontvanger die bij het te verzenden bericht is opgegeven.

    ## 0.4.0 Juni 2024
    - De json-schema's van de berichtsoorten zijn opgenomen in de OpenAPI Specificatie. Voor elke berichtsoort die het LO beschrijft, is opgenomen hoe dit bericht gestructureerd is.
      - Houdt er rekening mee dat het weergeven van de OpenAPI specificatie in de web-versie va SwaggerUI hierdoor trager geworden is. Het is aan te raden om de alternatieve (redocly) weergave te gebruiken:
        - https://brp-berichten-api.dictua.ictu-sr.nl/openapi/berichten-api.html
        - De JSON schema's zijn tevens te vinden op onze Github pagina.
    - De JSON-response van het conversie endpoint is iets aangepast zodat naast het geconverteerde bericht tevens validatiefouten opgenomen kunnen worden.

    ## 0.3.0 - Mei 2024
    - Conversie endpoints
      - Introductie bericht-conversie (/berichten/conversie) endpoint. Houdt er rekening mee dat de conversie naar JSON opgenomen is, maar nog niet geïmplementeerd is in de demo omgeving.
    - Het limiet van het aantal berichten dat verwijderd kan worden is gelijkgesteld aan dat wat gelijktijdig opgehaald kan worden (100).
    - De API is hernoemd van "BRP A-Synchrone berichten API" naar "BRP berichten API".
      - Nieuwe URL's demo omgeving:
        - https://brp-berichten-api.dictua.ictu-sr.nl/api/v1/berichten
        - https://brp-berichten-api.dictua.ictu-sr.nl/openapi/berichten-api.html
        - https://brp-berichten-api.dictua.ictu-sr.nl/swagger-ui/index.html
    - Beschikbaarheid endpoint(s)
      - Er is een tweede ping endpoint bijgekomen waardoor en nu een HEAD of een GET gedaan kan worden. De response blijft hetzelfde. U kunt zelf kiezen welke van deze twee u hanteert.
      - De noodzaak voor authenticatie op het `ping` endpoint is komen te vervallen. U kunt dus zonder noodzaak van authenticatie vaststellen of de dienst beschikbaar is.

    ## 0.2.2 - April 2024
    - Ping operatie toegevoegd t.b.v. het verifiëren dat er communicatie met de berichtendienst mogelijks is.
    - De standaard sortering bij een LIST operatie is op dit moment:
      1. `Datum + tijdstip van ontvangst` waarbij geldt dat het oudste bericht als eerste wordt weergegeven in de lijst met beschikbare berichten (rationale deze dient als eerste verwerkt worden door de ontvanger).
      2. Indien `datum + tijdstip van ontvangst` gelijk zijn (wat kan voorkomen aangezien er meerdere berichten tegelijk ingestuurd kunnen worden), dan worden `afzender` en het `messageId` meegenomen in de sortering. De volgorde die de afzender toegekend heen via de messageId is op dat moment dus bepalend.

    ## 0.2.1 - April 2024
    - Mogelijkheden tot sortering bij een list operatie zijn verwijderd. De standaard sortering wordt nog bepaald.
    - Demo omgeving is toegevoegd aan de lijst met servers.
      - API te benaderen via https://brp-berichten-api.dictua.ictu-sr.nl/api/v1/berichten
      - Swagger UI via: https://brp-berichten-api.dictua.ictu-sr.nl/swagger-ui/index.html
      - De OpenAPI specificatie via: https://brp-berichten-api.dictua.ictu-sr.nl/openapi.brp-berichten-api-v1.yaml
    - Wachtwoord wijzigingen optie is verwijderd.
    - Het `berichtFormaat` attribuut is komen te vervallen. Alle berichten zijn nu per definitie in JSON formaat. De eis om de berichtInhoud Base64 te
      encoderen komt daarmee te vervallen.
    - Voorbeelddata verbeterd.
    - Tellingen endpoint toegevoegd welke invulling geeft aan de mailbox Summarize tegenhanger.
    - Delete endpoint gecorrigeerd. De collectie `succesvolVerwijderdeBerichten` was van het type string i.p.v. berichtTransportId.
    - Limieten zijn gewijzigd:
      - Het aantal berichten dat via een PUT verstuurd kan worden is verhoogd naar 25. Uitgaande van een gemiddelde berichtgrootte van 40kb geeft dat een request van 1MB groot.
      - Het aantal berichten dat via een LIST opgevraagd kan worden is vergroot naar 2000. Daarbij krijgt u de mogelijkheid om dit aantal te beperken.
        - 2000 berichten in een LIST operatie komt neer op ongeveer 600KB response grootte.
      - Het aantal berichten dat via een GET ontvangen kan worden is verhoogd naar 100. Dit heeft te maken met de gangbare (veilige) restricties van een URL qua lengte (2KB).
        - Voor de URL worden 256 bytes gereserveerd.
          - Voor de UUID blijven dan 1.792 bytes over.
        - Een BerichtTransportId is 17 bytes groot (UUID + separatie-karakter ',')
          - Uitgaande van 17 bytes, zou dit 105 keer herhaald kunnen worden. Om aan de veilige kan te zitten en om op een mooi rond getal uit te komen kiezen wij voor 100 als limiet.
        - Uitgaande van een gemiddelde berichtgrootte van 40KB komt je met 100 berichten uit op 4MB qua response-grootte.
    - "aantalKeerOpgehaald" en "dtLaatstOpgehaald" zijn verwijderd uit response van LIST (ListMessageKenmerken schema). Wij zien hierin geen meerwaarde voor de aansluitende partijen. Wel kunt u blijven zien OF het bericht is opgehaald (boolean waarde).

    ## 0.2.0 - April 2024
    - "List" verzoek is verhuisd van "/berichten/lijst" --> "/berichten"
    - "GET" van meerdere berichten wordt gedaan middels path-parameters i.p.v. query-parameters en is samengevoegd met het endpoint voor het ophalen van een enkel bericht.<br/>
      (/berichten/?berichtTransportIds=[UUID],[UUID] --> /berichten/[UUID],[UUID])
      (/berichten/?berichtTransportIds=[UUID],[UUID] --> /berichten/[UUID],[UUID])
    - "DELETE" van meerdere berichten wordt gedaan middels path-parameters i.p.v. query-parameters en is samengevoegd met het endpoint voor het verwijderen van een enkel bericht.<br/>
      (/berichten/?berichtTransportIds=[UUID],[UUID] --> /berichten/[UUID],[UUID])
    - Het "berichtId" wat correspondeert met het "MessageId" veld van de mailboxserver is qua type gewijzigd van String naar Integer. Maximale lengte 12.
      - Beschrijving LO: MessageId, lengte: 12, Het unieke volgnummer dat aan het uitgaande bericht wordt toegekend.
    - Het veld "verwijzingBerichtId" wat correspondeert met het "CrossReference" veld van de mailboxserver:
      - is qua type gewijzigd van String naar Integer. Maximale lengte 12.
      - kan of weggelaten worden, of gevuld worden met 0 indien het bericht een eerste bericht in de cyclus betreft.
    - "aantalKeerOpgehaald" is toegevoegd aan de ListMessageKenmerken.

    ## 0.1.0 - Maart 2024
    Initiële versie.

    # In ontwikkeling:
    - Bepalen of het een checksum op de berichtinhoud van meerwaarde kan zijn.

    # Voorlopige limieten:
    | Waarde | Omschrijving |
    |--------|--------------|
    | 1      | Aantal ontvangers per bericht. |
    | 25     | Maximum aantal berichten dat in één PUT request verstuurd mag worden. |
    | 100     | Maximum aantal berichten dat in één DELETE request verwijderd mag worden |
    | 2000   | Maximum aantal berichten dat in één LIST request getoond zal worden. Indien wenselijk kunt u dit aantal middels een query-parameter beperken. |
    | 100    | Maximum aantal berichten dat in één GET request ontvangen mag worden. |
    | 64kb   | Maximum grootte van één enkel bericht. Één request zal qua grootte dan uitkomen op ((maximale-grootte-enkel-bericht * maximaal-aantal-berichten) + overhead). Houdt er rekening mee dat dit een waarde is die in te toekomst kan gaan groeien. Beperk uw oplossing dus niet op deze waarde! |

tags:
  - name: Berichtenverkeer
    description: API waarop berichten uitgewisseld kunnen worden.

servers:
  - description: Productieomgeving (PRD, MutualTLS m.b.v. PKI-O in combinatie met OAuth2)
    url: https://apigw.idm.diginetwerk.net/api/brp/berichten/v1/
  - description: Proefomgeving (LAP, MutualTLS m.b.v. PKI-O in combinatie met OAuth2)
    url: https://apigw.npr.idm.diginetwerk.net/lap/api/brp/berichten/v1/
  - description: Acceptatieomgeving (ACC, MutualTLS m.b.v. PKI-O in combinatie met OAuth2)
    url: https://apigw.npr.idm.diginetwerk.net/acc/api/brp/berichten/v1/
  - description: Demo omgeving (via internet, BasicAuth OF OAuth2, geen MutualTLS)
    url: https://brp-berichten-api.dictua.ictu-sr.nl/api/v1/
  - description: Demo omgeving (AP via VPN, BasicAuth OF OAuth2, geen MutualTLS)
    url: http://berichten-api.gbav-3.dictua.iesprd.ictu-sr.nl:8083/api/v1/
  - description: Lokale ontwikkelomgeving (BasicAuth OF OAuth2, geen MutualTLS)
    url: http://localhost:8083/api/v1/

security:
  - DemoBasicAuth: [ ]
  - DemoOAuth: [ ]
  - AccOAuth: [ ]
    MutualTLSWithPKIOverheid: [ ]
  - LapOAuth: [ ]
    MutualTLSWithPKIOverheid: [ ]
  - PrdOAuth: [ ]
    MutualTLSWithPKIOverheid: [ ]
paths:
  /berichten:
    post: # (= sPd PUT)
      tags:
        - Berichtenverkeer
      summary: Het versturen van een of meerdere berichten (PUT).
      description: >
        Dit endpoint gebruikt u om berichten zoals gespecificeerd in het Logisch Ontwerp te versturen.
      operationId: putMessages
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/put-message-request'
      responses:
        '201':
          description: a-Synchrone response. Een eventueel antwoord op een bericht wordt later voor u klaargezet en dient separaat opgehaald te worden.
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/put-message-antwoord'
        '400':
          description: Het verzoek is onjuist en is daarom niet verwerkt.
          content:
            application/problem+json:
              schema:
                $ref: '#/components/schemas/Foutmeldingen/PUT/BBA-PUT-F001'
        '401':
          description: Onjuiste of ontbrekende authenticatie
          content:
            application/problem+json:
              schema:
                oneOf:
                  - $ref: '#/components/schemas/Foutmeldingen/AUTH/BBA-AUTH-F001'
                  - $ref: '#/components/schemas/Foutmeldingen/AUTH/BBA-AUTH-F002'
                  - $ref: '#/components/schemas/Foutmeldingen/GENERAL/BBA-F999'
                discriminator:
                  propertyName: type
                  mapping:
                    "https://www.rvig.nl/brp/berichten-api/probleem/BBA-AUTH-F001": '#/components/schemas/Foutmeldingen/AUTH/BBA-AUTH-F001'
                    "https://www.rvig.nl/brp/berichten-api/probleem/BBA-AUTH-F002": '#/components/schemas/Foutmeldingen/AUTH/BBA-AUTH-F002'
                    "https://www.rvig.nl/brp/berichten-api/probleem/BBA-F999": '#/components/schemas/Foutmeldingen/GENERAL/BBA-F999'
        '500':
          description: Onbekende/technische fout
          content:
            application/problem+json:
              schema:
                $ref: '#/components/schemas/Foutmeldingen/GENERAL/BBA-F999'

    get: # (= sPd LIST)
      tags:
        - Berichtenverkeer
      summary: Het ophalen van een lijst met berichten die klaarstaan (LIST).
      description: >
        Dit endpoint gebruikt u om te achterhalen welke berichten er voor u beschikbaar zijn.
      operationId: listMessages
      parameters:
        - in: query
          name: status
          explode: false
          style: form
          schema:
            type: array
            default: [ nieuw, gezien-in-lijst ]
            items:
              type: string
              enum: [ nieuw, gezien-in-lijst, opgehaald ]
          required: false
          description: >
            Geeft aan welke berichten opgenomen moeten worden in het resultaat. Comma-gescheiden veld. Indien leeg worden alle niet opgehaalde berichten getoond (`nieuw` + `gezien-in-lijst`).

              - `nieuw`: Geeft berichten welke nog nooit opgehaald zijn en tevens niet in de lijst operatie zijn getoond.
              - `gezien-in-lijst`: Geeft berichten die nog niet opgehaald zijn, maar al wel gezien zijn in de lijst.
              - `opgehaald`: Geeft berichten reeds opgehaald zijn.
        - in: query
          name: berichtType
          description: Geeft aan welke type berichten opgenomen moeten worden in het resultaat. Indien leeg of niet aanwezig worden alle berichten getoond. Niet hoofdlettergevoelig.
          schema:
            $ref: "#/components/schemas/BerichtType"
        - in: query
          name: vanafMoment
          description: Het resultaat zal alleen berichten bevatten die vanaf dit moment ontvangen zijn. Wanneer deze waarde niet opgegeven is, worden alle berichten getoond die nog beschikbaar zijn (waarvan de retentietijd nog niet verlopen is).
          required: false
          schema:
            type: string
            format: date-time
            examples:
              - "2024-04-25T14:54:08.986661+02:00"
        - in: query
          name: totMoment
          description: Het resultaat zal alleen berichten bevatten die tot dit moment ontvangen zijn. Wanneer deze waarde niet opgegeven is, worden alle berichten getoond t/m het heden.
          required: false
          schema:
            type: string
            format: date-time
            examples:
              - "2024-04-26T14:54:08.986661+02:00"
        - $ref: "#/components/parameters/paginaParam"
        - in: query
          name: berichtenPerPagina
          schema:
            type: integer
            minimum: 1
          required: false
          description: >
            Het maximum aantal berichten dat geretourneerd mag worden. Indien deze waarde het ingesteld systeemlimiet overschrijdt, dan wordt het systeemlimiet gehanteerd. Indien er geen waarde wordt opgegeven, dan wordt tevens het systeemlimiet gehanteerd.
      responses:
        '200':
          description: Een opsomming van de berichten die beschikbaar zijn voor de mailbox die gekoppeld is aan het geauthenticeerde account.
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/list-message-antwoord'
        '400':
          description: Onjuist verzoek
          content:
            application/problem+json:
              schema:
                $ref: '#/components/schemas/Foutmeldingen/LIST/BBA-LIST-F001'
        '401':
          description: Onjuiste of ontbrekende authenticatie
          content:
            application/problem+json:
              schema:
                oneOf:
                  - $ref: '#/components/schemas/Foutmeldingen/AUTH/BBA-AUTH-F001'
                  - $ref: '#/components/schemas/Foutmeldingen/AUTH/BBA-AUTH-F002'
                  - $ref: '#/components/schemas/Foutmeldingen/GENERAL/BBA-F999'
                discriminator:
                  propertyName: type
                  mapping:
                    "https://www.rvig.nl/brp/berichten-api/probleem/BBA-AUTH-F001": '#/components/schemas/Foutmeldingen/AUTH/BBA-AUTH-F001'
                    "https://www.rvig.nl/brp/berichten-api/probleem/BBA-AUTH-F002": '#/components/schemas/Foutmeldingen/AUTH/BBA-AUTH-F002'
                    "https://www.rvig.nl/brp/berichten-api/probleem/BBA-F999": '#/components/schemas/Foutmeldingen/GENERAL/BBA-F999'
        '500':
          $ref: '#/components/responses/500'

  /berichten/{berichtTransportIdsParam}:
    get: # (=sPd GET, 1 of meerdere bericht)
      tags:
        - Berichtenverkeer
      summary: Het ophalen van een of meerdere berichten (GET).
      description: >
        Dit endpoint gebruikt u om berichten op te halen.
      operationId: getMessages
      parameters:
        - $ref: '#/components/parameters/berichtTransportIdsParam'
      responses:
        '200':
          description: Deze 200 OK response wordt vrijwel alle situaties geretourneerd, mits er geen technische fouten opgetreden zijn. Indien er bij het ophalen van het bericht iets mis ging, dan vindt u dat per bericht terug in de response.
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/get-message-antwoord'
        '400':
          description: Onjuist verzoek
          content:
            application/problem+json:
              schema:
                $ref: '#/components/schemas/Foutmeldingen/GET/BBA-GET-F004'
        '401':
          description: Onjuiste of ontbrekende authenticatie
          content:
            application/problem+json:
              schema:
                oneOf:
                  - $ref: '#/components/schemas/Foutmeldingen/AUTH/BBA-AUTH-F001'
                  - $ref: '#/components/schemas/Foutmeldingen/AUTH/BBA-AUTH-F002'
                  - $ref: '#/components/schemas/Foutmeldingen/GENERAL/BBA-F999'
                discriminator:
                  propertyName: type
                  mapping:
                    "https://www.rvig.nl/brp/berichten-api/probleem/BBA-AUTH-F001": '#/components/schemas/Foutmeldingen/AUTH/BBA-AUTH-F001'
                    "https://www.rvig.nl/brp/berichten-api/probleem/BBA-AUTH-F002": '#/components/schemas/Foutmeldingen/AUTH/BBA-AUTH-F002'
                    "https://www.rvig.nl/brp/berichten-api/probleem/BBA-F999": '#/components/schemas/Foutmeldingen/GENERAL/BBA-F999'
        '500':
          description: Onbekende/technische fout
          content:
            application/problem+json:
              schema:
                $ref: '#/components/schemas/Foutmeldingen/GENERAL/BBA-F999'
    delete: # (= sPd DELETE)
      tags:
        - Berichtenverkeer
      summary: Het verwijderen van een of meerdere berichten (DELETE).
      description: >
        Verwijderen van een of meerdere berichten. De berichten kunnen na deze actie niet meer bij de berichten API opgehaald worden.
      operationId: deleteMessages
      parameters:
        - $ref: '#/components/parameters/berichtTransportIdsParam'
      responses:
        '200':
          description: Deze 200 OK response wordt vrijwel alle situaties geretourneerd, mits er geen technische fouten opgetreden zijn. Indien er bij het verwijderen van het bericht iets mis ging, dan vindt u dat per bericht terug in de response.
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/delete-message-antwoord'
        '400':
          description: Onjuist verzoek
          content:
            application/problem+json:
              schema:
                $ref: '#/components/schemas/Foutmeldingen/DELETE/BBA-DELETE-F004'
        '401':
          description: Onjuiste of ontbrekende authenticatie
          content:
            application/problem+json:
              schema:
                oneOf:
                  - $ref: '#/components/schemas/Foutmeldingen/AUTH/BBA-AUTH-F001'
                  - $ref: '#/components/schemas/Foutmeldingen/AUTH/BBA-AUTH-F002'
                  - $ref: '#/components/schemas/Foutmeldingen/GENERAL/BBA-F999'
                discriminator:
                  propertyName: type
                  mapping:
                    "https://www.rvig.nl/brp/berichten-api/probleem/BBA-AUTH-F001": '#/components/schemas/Foutmeldingen/AUTH/BBA-AUTH-F001'
                    "https://www.rvig.nl/brp/berichten-api/probleem/BBA-AUTH-F002": '#/components/schemas/Foutmeldingen/AUTH/BBA-AUTH-F002'
                    "https://www.rvig.nl/brp/berichten-api/probleem/BBA-F999": '#/components/schemas/Foutmeldingen/GENERAL/BBA-F999'
        '500':
          description: Onbekende/technische fout
          content:
            application/problem+json:
              schema:
                $ref: '#/components/schemas/Foutmeldingen/GENERAL/BBA-F999'

  /berichten/ping:
    get:
      tags:
        - Bereikbaarheid
      summary: Ping operatie t.b.v. het toetsen van de bereikbaarheid van de API vanuit de aangesloten partij.
      description: >
        Deze operatie kan aangeroepen worden door aangesloten partijen om te verifiëren dat er communicatie met de berichtendienst mogelijks is.
      operationId: ping-get
      responses:
        '204':
          description: Geeft aan dat de API bereikt kon worden.
    head:
      tags:
        - Bereikbaarheid
      summary: Ping operatie t.b.v. het toetsen van de bereikbaarheid van de API vanuit de aangesloten partij.
      description: >
        Deze operatie kan aangeroepen worden door aangesloten partijen om te verifiëren dat er communicatie met de berichtendienst mogelijks is.
      operationId: ping-head
      responses:
        '204':
          description: Geeft aan dat de API bereikt kon worden.

  /berichten/telling:
    get:
      tags:
        - Berichtenverkeer
      operationId: summarize
      summary: Voert verschillende soorten tellingen uit waarmee bepaald kan worden hoeveel berichten er verwerkt dienen te worden (SUMMARIZE).
      parameters:
        - in: query
          name: soort
          style: simple
          description: >
            Geeft aan welke telling er uitgevoerd moet worden.
              - nieuw: Geeft het aantal nieuwe berichten terug dat nog niet gezien is via een LIST operatie en tevens nog niet opgehaald is middels een GET operatie.
              - gezien-in-lijst-en-niet-opgehaald: Geeft het aantal nieuwe berichten terug dat gezien is via een LIST operatie, maar nog niet opgehaald is middels een GET operatie.
              - niet-opgehaald: Geeft het aantal nieuwe berichten terug dat nog niet opgehaald is middels een GET operatie.
          required: true
          allowEmptyValue: false
          schema:
            type: string
            enum:
              - nieuw
              - gezien-in-lijst-en-niet-opgehaald
              - niet-opgehaald
      responses:
        '200':
          description: Het resultaat van de telling.
          content:
            application/json:
              schema:
                allOf:
                  - $ref: '#/components/schemas/generiek-antwoord'
                  - type: object
                    required:
                      - aantalBerichten
                    properties:
                      aantalBerichten:
                        type: integer
                        description: Het aantal berichten dat voldeed aan de criteria.
                        examples:
                          - 156980
        '400':
          description: Indien er een telling-soort gevraagd werdt die niet bestaat, of wanneer er geen telling-soort is opgegeven.
          content:
            application/problem+json:
              schema:
                $ref: '#/components/schemas/Foutmeldingen/SUMMARIZE/BBA-SUMMARIZE-F001'
        '401':
          description: Onjuiste of ontbrekende authenticatie
          content:
            application/problem+json:
              schema:
                oneOf:
                  - $ref: '#/components/schemas/Foutmeldingen/AUTH/BBA-AUTH-F001'
                  - $ref: '#/components/schemas/Foutmeldingen/AUTH/BBA-AUTH-F002'
                  - $ref: '#/components/schemas/Foutmeldingen/GENERAL/BBA-F999'
                discriminator:
                  propertyName: type
                  mapping:
                    "https://www.rvig.nl/brp/berichten-api/probleem/BBA-AUTH-F001": '#/components/schemas/Foutmeldingen/AUTH/BBA-AUTH-F001'
                    "https://www.rvig.nl/brp/berichten-api/probleem/BBA-AUTH-F002": '#/components/schemas/Foutmeldingen/AUTH/BBA-AUTH-F002'
                    "https://www.rvig.nl/brp/berichten-api/probleem/BBA-F999": '#/components/schemas/Foutmeldingen/GENERAL/BBA-F999'

  /berichten/conversie:
    post:
      tags:
        - Berichtconversie
      operationId: converteer
      summary: Dit endpoint faciliteert bij de conversie van berichten tussen de verschillende soorten berichtformaten.
      requestBody:
        description: >
          Er zijn verschillende waarden die voor de headers `Content-Type` en `Accept` gebruikt kunnen worden. Elk van deze waarden stelt een van de bekende formaten voor:
            - "text/plain; charset=teletex": Het klassieke berichtenformaat waarbij de teletex charset wordt gehanteerd.
            - "text/plain+base64; charset=teletex": Het klassieke berichtenformaat waarbij de teletex charset wordt gehanteerd. De body is in dit geval Base64 geëncodeerd.
            - "text/plain; charset=utf-8": Het klassieke berichtenformaat waarbij de UTF-8 charset wordt gehanteerd.
            - "text/plain+base64; charset=utf-8": Het klassieke berichtenformaat waarbij de UTF-8 charset wordt gehanteerd. De body is in dit geval Base64 geëncodeerd.
            - "application/json": Het meest recente berichtenformaat gebaseerd op JSON en de UTF-8 charset.

          Middels deze waarden kunt u via de Content-Type en Accept headers aanduiden welk formaat u instuurt en welk formaat u terug wenst te ontvangen.
        content:
          text/plain; charset=utf-8:
            schema:
              type: string
              examples:
                - "00000000Gv01474684504200082070517110008202301027120018Attestatie de Vita8810004020157021711000071200008810000"
          text/plain+base64; charset=utf-8:
            schema:
              type: string
              contentEncoding: base64
              examples:
                - "MDAwMDAwMDBHdjAxNDc0Njg0NTA0MjAwMDgyMDcwNTE3MTEwMDA4MjAyMzAxMDI3MTIwMDE4QXR0ZXN0YXRpZSBkZSBWaXRhODgxMDAwNDAyMDE1NzAyMTcxMTAwMDA3MTIwMDAwODgxMDAwMA=="
          text/plain; charset=teletex:
            schema:
              type: string
              format: binary
              examples:
                - "00000000Gv01474684504200082070517110008202301027120018Attestatie de Vita8810004020157021711000071200008810000"
          text/plain+base64; charset=teletex:
            schema:
              type: string
              contentEncoding: base64
              examples:
                - "MDAwMDAwMDBHdjAxNDc0Njg0NTA0MjAwMDgyMDcwNTE3MTEwMDA4MjAyMzAxMDI3MTIwMDE4QXR0ZXN0YXRpZSBkZSBWaXRhODgxMDAwNDAyMDE1NzAyMTcxMTAwMDA3MTIwMDAwODgxMDAwMA=="
          application/json:
            schema:
              $ref: "#/components/schemas/LoBericht"
      responses:
        '200':
          description: Een naar JSON geconverteerd bericht
          content:
            application/json:
              schema:
                type: object
                properties:
                  berichtInhoud:
                    $ref: "#/components/schemas/BerichtInhoud"
                  validatieFouten:
                    type: array
                    items:
                      type: object
                      properties:
                        type:
                          type: string
                        code:
                          type: string
                        message:
                          type: string
                        property:
                          type: string
                        evaluationPath:
                          type: string
                        schemaLocation:
                          type: string
                        messageKey:
                          type: string
                        arguments:
                          type: array
                          items:
                            type: string
            text/plain; charset=utf-8:
              schema:
                type: string
            text/plain+base64; charset=utf-8:
              schema:
                type: string
            text/plain; charset=teletex:
              schema:
                type: string
                format: binary
            text/plain+base64; charset=teletex:
              schema:
                type: string
                contentEncoding: base64
        '400':
          description: Wanneer het aangeleverde bericht niet voldeed en daardoor niet vertaald kon worden.
          content:
            application/problem+json:
              schema:
                oneOf:
                  - $ref: '#/components/schemas/Foutmeldingen/CONV/BBA-CONV-F001'
                  - $ref: '#/components/schemas/Foutmeldingen/CONV/BBA-CONV-F002'
                  - $ref: '#/components/schemas/Foutmeldingen/CONV/BBA-CONV-F003'
                  - $ref: '#/components/schemas/Foutmeldingen/CONV/BBA-CONV-F004'
                  - $ref: '#/components/schemas/Foutmeldingen/CONV/BBA-CONV-F005'
                  - $ref: '#/components/schemas/Foutmeldingen/CONV/BBA-CONV-F006'
                  - $ref: '#/components/schemas/Foutmeldingen/GENERAL/BBA-F999'
                discriminator:
                  propertyName: type
                  mapping:
                    "https://www.rvig.nl/brp/berichten-api/probleem/BBA-CONV-F004": '#/components/schemas/Foutmeldingen/CONV/BBA-CONV-F004'
                    "https://www.rvig.nl/brp/berichten-api/probleem/BBA-CONV-F006": '#/components/schemas/Foutmeldingen/CONV/BBA-CONV-F006'
                    "https://www.rvig.nl/brp/berichten-api/probleem/BBA-F999": '#/components/schemas/Foutmeldingen/GENERAL/BBA-F999'
        '401':
          description: Onjuiste of ontbrekende authenticatie
          content:
            application/problem+json:
              schema:
                $ref: '#/components/schemas/Foutmeldingen/AUTH/BBA-AUTH-F001'
        '406':
          description: Wanneer een conversie werd aangevraagd voor een doelformaat dat niet ondersteund wordt.
          content:
            application/problem+json:
              schema:
                oneOf:
                  - $ref: '#/components/schemas/Foutmeldingen/CONV/BBA-CONV-F001'
                  - $ref: '#/components/schemas/Foutmeldingen/CONV/BBA-CONV-F005'
                discriminator:
                  propertyName: type
                  mapping:
                    "https://www.rvig.nl/brp/berichten-api/probleem/BBA-CONV-F001": '#/components/schemas/Foutmeldingen/CONV/BBA-CONV-F001'
                    "https://www.rvig.nl/brp/berichten-api/probleem/BBA-CONV-F005": '#/components/schemas/Foutmeldingen/CONV/BBA-CONV-F005'
        '415':
          description: Wanneer een conversie werd aangevraagd voor een bronformaat dat niet ondersteund wordt.
          content:
            application/problem+json:
              schema:
                oneOf:
                  - $ref: '#/components/schemas/Foutmeldingen/CONV/BBA-CONV-F002'
                  - $ref: '#/components/schemas/Foutmeldingen/CONV/BBA-CONV-F003'
                discriminator:
                  propertyName: type
                  mapping:
                    "https://www.rvig.nl/brp/berichten-api/probleem/BBA-CONV-F001": '#/components/schemas/Foutmeldingen/CONV/BBA-CONV-F002'
                    "https://www.rvig.nl/brp/berichten-api/probleem/BBA-CONV-F005": '#/components/schemas/Foutmeldingen/CONV/BBA-CONV-F003'
        '500':
          description: Onbekende/technische fout
          content:
            application/problem+json:
              schema:
                $ref: '#/components/schemas/Foutmeldingen/GENERAL/BBA-F999'

components:
  schemas:
    put-message-request:
      type: object
      required:
        - berichten
      properties:
        berichten:
          type: array
          items:
            $ref: '#/components/schemas/PutMessage'

    put-message-antwoord:
      allOf:
        - $ref: '#/components/schemas/generiek-antwoord'
        - type: object
          required:
            - verwerkteBerichten
            - nietVerwerkteBerichten
          properties:
            verwerkteBerichten:
              type: array
              items:
                required:
                  - berichtId
                  - berichtTransportId
                properties:
                  ontvanger:
                    type: integer
                  berichtId:
                    $ref: '#/components/schemas/BerichtId'
                  berichtTransportId:
                    $ref: '#/components/schemas/BerichtTransportId'
            nietVerwerkteBerichten:
              type: array
              items:
                required:
                  - berichtId
                  - berichtTransportId
                  - foutmeldingen
                properties:
                  ontvanger:
                    type: integer
                  berichtId:
                    $ref: '#/components/schemas/BerichtId'
                  berichtTransportId:
                    $ref: '#/components/schemas/BerichtTransportId'
                  foutmeldingen:
                    type: array
                    items:
                      oneOf:
                        - $ref: '#/components/schemas/Foutmeldingen/PUT/BBA-PUT-F002'
                        - $ref: '#/components/schemas/Foutmeldingen/PUT/BBA-PUT-F003'
                        - $ref: '#/components/schemas/Foutmeldingen/PUT/BBA-PUT-F004'
                      discriminator:
                        propertyName: type
                        mapping:
                          "https://www.rvig.nl/brp/berichten-api/probleem/BBA-PUT-F002": '#/components/schemas/Foutmeldingen/PUT/BBA-PUT-F002'
                          "https://www.rvig.nl/brp/berichten-api/probleem/BBA-PUT-F003": '#/components/schemas/Foutmeldingen/PUT/BBA-PUT-F003'
                          "https://www.rvig.nl/brp/berichten-api/probleem/BBA-PUT-F004": '#/components/schemas/Foutmeldingen/PUT/BBA-PUT-F004'

    list-message-antwoord:
      allOf:
        - $ref: '#/components/schemas/generiek-antwoord'
        - type: object
          required:
            - berichten
          properties:
            berichten:
              type: array
              items:
                $ref: '#/components/schemas/ListMessageKenmerken'
        - $ref: '#/components/schemas/PagineerbaarResultaat'

    get-message-antwoord:
      allOf:
        - $ref: '#/components/schemas/generiek-antwoord'
        - type: object
          required:
            - opgehaaldeBerichten
            - nietOpgehaaldeBerichten
          properties:
            opgehaaldeBerichten:
              type: array
              description: Gevraagde berichten die ook succesvol opgehaald konden worden.
              items:
                type: object
                required:
                  - berichtKenmerken
                  - berichtInhoud
                properties:
                  berichtKenmerken:
                    $ref: '#/components/schemas/GetMessageKenmerken'
                  berichtInhoud:
                    $ref: '#/components/schemas/BerichtInhoud'
            nietOpgehaaldeBerichten:
              type: array
              description: Gevraagde berichten die niet succesvol opgehaald konden worden.
              items:
                required:
                  - berichtTransportId
                  - foutmeldingen
                properties:
                  berichtTransportId:
                    $ref: '#/components/schemas/BerichtTransportId'
                  foutmeldingen:
                    type: array
                    items:
                      oneOf:
                        - $ref: '#/components/schemas/Foutmeldingen/GET/BBA-GET-F001'
                        - $ref: '#/components/schemas/Foutmeldingen/GET/BBA-GET-F002'
                        - $ref: '#/components/schemas/Foutmeldingen/GET/BBA-GET-F003'
                      discriminator:
                        propertyName: type
                        mapping:
                          "https://www.rvig.nl/brp/berichten-api/probleem/BBA-GET-F001": '#/components/schemas/Foutmeldingen/GET/BBA-GET-F001'
                          "https://www.rvig.nl/brp/berichten-api/probleem/BBA-GET-F002": '#/components/schemas/Foutmeldingen/GET/BBA-GET-F002'
                          "https://www.rvig.nl/brp/berichten-api/probleem/BBA-GET-F003": '#/components/schemas/Foutmeldingen/GET/BBA-GET-F003'

    delete-message-antwoord:
      allOf:
        - $ref: '#/components/schemas/generiek-antwoord'
        - type: object
          properties:
            succesvolVerwijderdeBerichten:
              type: array
              uniqueItems: true
              description: In deze collectie staan de berichten die daadwerkelijk verwijderd zijn.
              items:
                $ref: '#/components/schemas/BerichtTransportId'
            nietSuccesvolVerwijderdeBerichten:
              type: array
              uniqueItems: true
              description: In deze collectie staan de berichten die niet verwijderd konden worden.
              items:
                type: object
                description: De foutmelding welke aangeeft waarom een bericht niet verwijderd kon worden.
                required:
                  - berichtTransportId
                  - foutmeldingen
                properties:
                  berichtTransportId:
                    $ref: '#/components/schemas/BerichtTransportId'
                  foutmeldingen:
                    type: array
                    items:
                      oneOf:
                        - $ref: '#/components/schemas/Foutmeldingen/DELETE/BBA-DELETE-F001'
                        - $ref: '#/components/schemas/Foutmeldingen/DELETE/BBA-DELETE-F002'
                        - $ref: '#/components/schemas/Foutmeldingen/DELETE/BBA-DELETE-F003'
                      discriminator:
                        propertyName: type
                        mapping:
                          "https://www.rvig.nl/brp/berichten-api/probleem/BBA-DELETE-F001": '#/components/schemas/Foutmeldingen/DELETE/BBA-DELETE-F001'
                          "https://www.rvig.nl/brp/berichten-api/probleem/BBA-DELETE-F002": '#/components/schemas/Foutmeldingen/DELETE/BBA-DELETE-F002'
                          "https://www.rvig.nl/brp/berichten-api/probleem/BBA-DELETE-F003": '#/components/schemas/Foutmeldingen/DELETE/BBA-DELETE-F003'

    generiek-antwoord:
      type: object
      required:
        - interactieId
      properties:
        interactieId:
          type: string
          format: uuid
          description: Een uniek ID wat aan het HTTP request gekoppeld wordt.

    PutMessage:
      type: object
      required:
        - berichtKenmerken
        - berichtInhoud
      properties:
        berichtKenmerken:
          $ref: '#/components/schemas/PutMessageKenmerken'
        berichtInhoud:
          $ref: '#/components/schemas/BerichtInhoud'

    PutMessageKenmerken:
      description: >
        De PutMessageKenmerken lijken op de PutEnvelope zoals dat gebruikt werd bij de mailboxserver. Ten
        opzichte van de mailboxserver zijn een aantal velden komen te vervallen en sommige hebben een andere naam gekregen:
          * Attention: Was gereserveerd voor toekomstig gebruik. In deze API niet langer relevant.
          * ContentType: Dit veld had altijd een vaste waarde. In deze API niet langer relevant.
          * DeferredDeliveryTime: Hiermee kon een gewenst tijdstip van aflevering aangegeven worden. Dit wordt niet door deze API ondersteund.
          * OriginatorORName: Wordt niet door deze API ondersteund. Dit veld wordt afgeleid door uit het account waarmee u ingelogd bent.
          * Priority: Dit veld had invloed op aflevertijden tussen MTA's. In deze API niet langer relevant.

        Zie toelichting bij "BerichtKenmerken" voor verschillen t.o.v. de MessageHeading van de mailboxserver.
      allOf:
        - $ref: '#/components/schemas/BerichtKenmerken'
        - type: object
          required:
            - berichtId
            - berichtType
            - ontvanger
          properties:
            ontvanger:
              $ref: '#/components/schemas/OntvangerOfAfzender'

    ListMessageKenmerken:
      allOf:
        - $ref: '#/components/schemas/BerichtKenmerken'
        - type: object
          required:
            - berichtTransportId
            - berichtVolgnummer
            - afzender
            - dtOntvangen
            - opgehaald
            - dtBewaardTot
          properties:
            berichtTransportId:
              $ref: '#/components/schemas/BerichtTransportId'
            berichtVolgnummer:
              $ref: '#/components/schemas/BerichtVolgnummer'
            verwijzingBerichtId:
              $ref: '#/components/schemas/VerwijzingBerichtId'
            afzender:
              $ref: '#/components/schemas/OntvangerOfAfzender'
            dtOntvangen:
              type: string
              format: date-time
              description: Het tijdstip waarop het bericht door de berichten API ontvangen is
              examples:
                - "2024-04-26T14:54:08.986661+02:00"
            opgehaald:
              type: boolean
              description: Geeft aan of dit bericht al eens eerder opgehaald is.
            dtBewaardTot:
              type: string
              format: date-time
              description: Tot dit moment zal het bericht beschikbaar zijn op de berichten API.
              examples:
                - "2024-05-03T14:54:08.986661+02:00"
    GetMessageKenmerken:
      allOf:
        - $ref: '#/components/schemas/ListMessageKenmerken'

    BerichtKenmerken:
      type: object
      description: >
        De BerichtKenmerken lijkt op de MessageHeading zoals dat gebruikt werd bij de mailboxserver. Ten opzichte van de mailboxserver zijn de
        onderstaande velden niet langer aan de orde en sommige hebben een andere naam gekregen.
          * CrossReference --> verwijzingBerichtId
          * MessageId --> berichtId
          * NotificationRequest: Wordt niet door deze API ondersteund.
          * NumberOfRecipients: Wordt niet door deze API ondersteund.
          * RecipientORName --> ontvanger
      required:
        - berichtId
        - berichtType
      properties:
        berichtId:
          $ref: '#/components/schemas/BerichtId'
        verwijzingBerichtId:
          $ref: '#/components/schemas/VerwijzingBerichtId'
        berichtType:
          $ref: '#/components/schemas/BerichtType'

    BerichtInhoud:
      $ref: "#/components/schemas/LoBericht"

    OntvangerOfAfzender:
      type: integer
      description: Het unieke nummer van een verzender/ontvanger.
      maximum: 9999999
      examples:
        - 3000200

    BerichtId:
      type: string
      maxLength: 12
      examples:
        - 103693694
      description: |
        Het unieke volgnummer dat aan het uitgaande bericht wordt toegekend door de afzender.
        De "BRP berichten API" voert geen inhoudelijke controles uit op dit BerichtId. Maximaal 12 posities.

    VerwijzingBerichtId:
      type: string
      maxLength: 12
      examples:
        - 213582583
      description: |
        Indien het bericht een antwoord is op een eerder door het eindsysteem ontvangen bericht: het `berichtId` van het eerder ontvangen bericht. Het veld correspondeert met het "CrossReference" veld van de mailboxserver.

        Het volgnummer van het bericht, waarop dit uitgaande bericht een reactie is. Dit volgnummer is het MessageId van het voorgaande bericht uit de cyclus.
        Is het bericht het eerste van een cyclus dan kan dit veld of weggelaten worden, of gevuld worden met 0;

    BerichtTransportId:
      type: string
      format: uuid
      description: "De is de referentie naar het bericht zoals deze bekend is bij de `BRP berichten API` (UUID). Bij elke interactie met deze dienst omtrent een bericht, wordt deze waarde gebruikt. Het mag, net zoals `berichtVolgnummer` gebruikt worden om het bericht uniek te identificeren."
      examples:
        - 190486a3-cf3d-4622-a6f7-1f2bfcd0abd6

    BerichtVolgnummer:
      type: integer
      format: int64
      description: "Dit volgnummer is het equivalent van het 'Dispatch sequence number'/'MSSequenceNumber' van de mailboxserver. Hiermee kan over verschillende media worden vastgesteld of dit bericht al eerder verwerkt is. Het nummer wordt door deze dienst uniek toegekend aan het bericht."
      examples:
        - 500012345678

    BerichtType:
      type: string
      examples:
        - "Lg01"
      maxLength: 4
      description: >
        Het soort bericht (zoals gedefinieerd in het berichtenboek in het Logisch Ontwerp).


        * Berichten ten behoeve van de bijhouding en de consistentie van de BRP
          * Berichten tussen bijhouders onderling
            * Berichten in verband met de vervolginschrijving tussen gemeenten:
              * Ii01 Initiatie intergemeentelijke verhuizing
              * Ib01 Verhuizen PL intergemeentelijk
              * Iv01 Verwijsgegevens
              * If01 Fout: PL niet te verzenden
              * If21 Fout: de ontvangen PL is niet de aangevraagde
              * If31 Fout: de verwijsgegevens zijn niet correct
            * Berichten in verband met de vervolginschrijving van de gemeente naar de RNI:
              * Rb01 Verhuizen PL van gemeente naar RNI
              * Rv01 Verwijsgegevens
              * Rf01 Fout: de ontvangen PL kan niet worden opgenomen
              * Rf31 Fout: de verwijsgegevens zijn niet correct
            * Berichten in verband met de vervolginschrijving van de RNI naar de gemeente:
              * Ji01 Initiatie verhuizing PL van RNI naar gemeente
              * Jb01 Verhuizen PL van RNI naar gemeente
              * Jv01 Verwijsgegevens
              * Jf01 Fout: PL niet te verzenden
              * Jf21 Fout: de ontvangen PL is niet de aangevraagde
              * Jf31 Fout: de verwijsgegevens zijn niet correct
            * Berichten in verband met een toevallige geboorte:
              * Tb01 Toevallige geboorte
              * Tv01 Verwijsgegevens
              * Tf01 Fout: persoon niet in te schrijven
              * Tf11 Fout: de verwijsgegevens zijn niet correct
            * Berichten in verband met een toevallige gebeurtenis:
              * Tb02 Toevallige gebeurtenis
              * Tf21 Fout: gebeurtenisgegevens niet te verwerken
            * Berichten in verband met het opnemen van verwijsgegevens:
              * Iv11 Verwijsgegevens
              * Iv21 Verificatie verwijsgegevens
              * If41 Fout: verwijsgegevens kunnen niet worden opgenomen
            * Berichten in verband met wijzigen A-nummer in de verwijsgegevens bij gemeenten en bij de RNI:
              * Wa01 Wijziging A-nummer
              * Wf01 Fout: A-nummerwijziging niet te verwerken
          * Berichten ten behoeve van de bijhouding
            * Berichten in verband met verblijfstitel:
              * Og11 Opnemen gegevens verblijfstitel
              * Of11 Fout: opnemen/wijzigen verblijfstitel niet mogelijk
          * Berichten ten behoeve van het bijhouden van de persoonsgegevens in BRP-V
            * Berichten in verband met synchronisatie met BRP-V:
              * Lg01 Synchronisatiebericht
              * Lq01 Synchronisatievraag
              * La01 Synchronisatieantwoord
              * Lf01 Fout: synchronisatievraag niet te beantwoorden
            * Berichten in verband met synchroniciteitsselecties:
              * Lg01 Synchronisatiebericht
        * Berichten ten behoeve van de gegevensverstrekkingen
          * Berichten in verband met spontane gegevensverstrekkingen als gevolg van afnemersindicaties op persoonslijsten:
            * Gv01 Spontane mutatie
            * Gv02 Spontane mutatie: infrastructurele wijziging
            * Wa11 Wijziging A-nummer ten behoeve van afnemers
            * Ng01 Afvoeren PL
            * Ag11 Vulbericht
            * Ag21 Conditionele gegevensverstrekking
            * Ag31 Foutherstelbericht
          * Berichten in verband met selecties:
            * Sv01 Selectieverstrekking
            * Sv11 Niemand geselecteerd
          * Berichten in verband met ad hoc vragen:
            * Hq01 Ad hoc vraag
            * Ha01 Ad hoc antwoord
            * Hf01 Fout: ad hoc vraag niet te beantwoorden
          * Berichten in verband met ad hoc adresvragen:
            * Xq01 Ad hoc adresvraag
            * Xa01 Ad hoc adresantwoord
            * Xf01 Fout: ad hoc adresvraag niet te beantwoorden
          * Berichten in verband met het muteren van afnemersindicaties op persoonslijsten:
            * Ap01 Plaatsen afnemersindicatie op persoonslijst
            * Ag01 Gegevensverstrekking als gevolg van ad hoc plaatsing afnemersindicatie op persoonslijst
            * Af01 Fout: plaatsen afnemersindicatie op persoonslijst onmogelijk
            * Av01 Verwijderen afnemersindicatie van persoonslijst
            * Af11 Fout: verwijderen afnemersindicatie van persoonslijst onmogelijk
        * Overige berichten
          * Berichten ten behoeve van het onderhouden van de autorisatietabel
            * Berichten in verband met het onderhoud van de autorisatietabel:
              * Ct01 Toevoegen tabelregel aan Autorisatietabel
              * Cw01 Wijzigen tabelregel in Autorisatietabel
              * Cb01 Beëindigen tabelregel in Autorisatietabel
            * Berichten ten behoeve van het onderhouden van de overige landelijke tabellen
              * Dt01 Toevoegen tabelregel
              * Dw01 Wijzigen tabelregel
            * De protocolfouten
              * Berichten om niet voorziene fouten in ontvangen berichten te melden:
                * Pf01 Fout: cyclus
                * Pf02 Fout: syntax
                * Pf03 Fout: inhoudelijk
            * Het vrije bericht
              * Bericht, vergelijkbaar met een mededeling op papier en als zodanig te gebruiken:
                * Vb01 Vrij bericht
                * Vb02 Vrij bericht via webservice
            * De verwerkbevestiging
              * Bericht om de verwerking van bepaalde gegevens te bevestigen:
                * Null Verwerkbevestiging (Null-bericht)

    PagineerbaarResultaat:
      type: object
      description: Structuur bij responses die grotere data sets kunnen opleveren.
      required:
        - paginering
      properties:
        paginering:
          $ref: "#/components/schemas/PagineringResultaat"

    PagineringResultaat:
      type: object
      required:
        - pagineringVerzoek
        - aantalPaginas
        - eerstePagina
        - huidigePagina
        - laatstePagina
        - aantalBerichtenOpDezePagina
        - totaalAantalBerichten
      properties:
        pagineringVerzoek:
          "$ref": "#/components/schemas/PagineringVerzoek"
        totaalAantalBerichten:
          type: integer
          format: int64
          default: 0
          examples:
            - 341
        aantalBerichtenOpDezePagina:
          type: integer
          default: 2000
          examples:
            - 2000
        aantalPaginas:
          type: integer
          default: 3
          examples:
            - 4
        huidigePagina:
          type: integer
          examples:
            - 2
        eerstePagina:
          type: boolean
          examples:
            - false
        laatstePagina:
          type: boolean
          examples:
            - false

    PagineringVerzoek:
      type: object
      required:
        - pagina
      properties:
        pagina:
          type: integer
          minimum: 0
          examples:
            - 2

    Foutmelding:
      type: object
      x-class-extra-annotation: "@com.fasterxml.jackson.annotation.JsonInclude(com.fasterxml.jackson.annotation.JsonInclude.Include.NON_EMPTY)"
      required:
        - type
        - title
      properties:
        type:
          type: string
          examples:
            - https://www.rvig.nl/brp/berichten-api/probleem/BBA-AUTH-F001
          description: >
            Unieke (RFC7807) foutcode voor het type van de opgetreden fout. Een namespace URI-pad gevolgd door een type fout id in de vorm VVV-DDDD-FFFF waarbij VVV gelijk is
            aan de afkorting van de voorziening (in dit geval BBA voor BRP Berichten API). DDDD een indicatie geeft van de operatie/domein waar de fout is opgetreden en FFFF een opdeling betreft van specifieke fouten (types)
            welke binnen een domein zijn identificeert.
        title:
          type: string
          description: >
            De titel (RFC7807) geeft een korte uitleg van het soort fout en in sommige gevallen een toelichting van de oorzaak.
        detail:
          type: string
          description: >
            Dit (RFC7807) veld geeft toelichting die kan helpen om de oorzaak van de fout te achterhalen, of geeft achtergrondinformatie over de foutsituatie.
        status:
          type: integer
          description: Dit (RFC7807) veld beschrijft de HTTP status-code die door de BRP-Berichten-API is toegekend aan de fout (indien van toepassing).
        instance:
          type: string
          description: Dit (RFC7807) veld beschrijft het request waarbij dit probleem is opgetreden (indien van toepassing).
          examples:
            - https://www.rvig.nl/brp/berichten-api/request/be215b41-a417-4148-b2bf-911b8b8b0133
        invalidParameters:
          $ref: "#/components/schemas/Foutmeldingen/invalidParameters"
        dateTime:
          type: string
          format: date-time
          description: >
            Het tijdstip en de datum (ISO date/time) waarop de fout is afgevangen en het foutmelding object is samengesteld.


    Foutmeldingen:
      invalidParameters:
        type: array
        items:
          type: object
          properties:
            key:
              type: string
            value:
              type: string
      AUTH:
        BBA-AUTH-F001:
          title: https://www.rvig.nl/brp/berichten-api/probleem/BBA-AUTH-F001
          description: Onjuiste of onbekende authenticatie.
          type: object
          required:
            - type
            - title
            - detail
            - status
          properties:
            title:
              description: Authenticatiefout
              examples:
                - Authenticatiefout
              type: string
            type:
              examples:
                - https://www.rvig.nl/brp/berichten-api/probleem/BBA-AUTH-F001
              type: string
              description: https://www.rvig.nl/brp/berichten-api/probleem/BBA-AUTH-F001
            detail:
              examples:
                - Onjuiste of onbekende authenticatie.
              type: string
              description: Onjuiste of onbekende authenticatie.
            status:
              examples:
                - 401
              type: integer
              description: 401
            dateTime:
              type: string
              format: date-time
              examples:
                - 2024-09-17T09:00:35.374057729+02:00
            instance:
              type: string
              description: Dit (RFC7807) veld beschrijft het request waarbij dit probleem is opgetreden (indien van toepassing).
              examples:
                - https://www.rvig.nl/brp/berichten-api/request/be215b41-a417-4148-b2bf-911b8b8b0133
        BBA-AUTH-F002:
          title: https://www.rvig.nl/brp/berichten-api/probleem/BBA-AUTH-F002
          type: object
          required:
            - type
            - title
            - detail
            - status
          properties:
            title:
              examples:
                - Authenticatiefout
              type: string
              description: Authenticatiefout
            type:
              examples:
                - https://www.rvig.nl/brp/berichten-api/probleem/BBA-AUTH-F002
              type: string
              description: https://www.rvig.nl/brp/berichten-api/probleem/BBA-AUTH-F002
            detail:
              examples:
                - Het account is geblokkeerd.
              type: string
              description: Het account is geblokkeerd.
            status:
              examples:
                - 401
              type: integer
              description: 401
            dateTime:
              type: string
              format: date-time
              examples:
                - 2024-09-17T09:00:35.374057729+02:00
            instance:
              type: string
              description: Dit (RFC7807) veld beschrijft het request waarbij dit probleem is opgetreden (indien van toepassing).
              examples:
                - https://www.rvig.nl/brp/berichten-api/request/be215b41-a417-4148-b2bf-911b8b8b0133
          description: Het account is geblokkeerd.
      PUT:
        BBA-PUT-F001:
          title: https://www.rvig.nl/brp/berichten-api/probleem/BBA-PUT-F001
          type: object
          required:
            - title
            - type
            - detail
          properties:
            title:
              type: string
              examples:
                - PUTREQUEST_NUMBER_OF_MESSAGES_IN_REQUEST_EXCEEDS_LIMITS
              description: PUTREQUEST_NUMBER_OF_MESSAGES_IN_REQUEST_EXCEEDS_LIMITS
            type:
              type: string
              examples:
                - https://www.rvig.nl/brp/berichten-api/probleem/BBA-PUT-F001
              description: https://www.rvig.nl/brp/berichten-api/probleem/BBA-PUT-F001
            detail:
              type: string
              examples:
                - Het aantal berichten in het verzoek overschrijd het ingestelde limiet
              description: Het aantal berichten in het verzoek overschrijd het ingestelde limiet
            dateTime:
              type: string
              format: date-time
              examples:
                - 2024-09-17T09:00:35.374057729+02:00
            instance:
              type: string
              description: Dit (RFC7807) veld beschrijft het request waarbij dit probleem is opgetreden (indien van toepassing).
              examples:
                - https://www.rvig.nl/brp/berichten-api/request/be215b41-a417-4148-b2bf-911b8b8b0133
          description: Het aantal berichten in het verzoek overschrijd het ingestelde limiet
        BBA-PUT-F002:
          title: https://www.rvig.nl/brp/berichten-api/probleem/BBA-PUT-F002
          type: object
          required:
            - title
            - type
            - detail
            - invalidParameters
          properties:
            title:
              type: string
              examples:
                - PUTREQUEST_INVALID_FIELD_ERROR
              description: PUTREQUEST_INVALID_FIELD_ERROR
            type:
              type: string
              examples:
                - https://www.rvig.nl/brp/berichten-api/probleem/BBA-PUT-F002
              description: https://www.rvig.nl/brp/berichten-api/probleem/BBA-PUT-F002
            detail:
              type: string
              examples:
                - Een of meerdere velden in het bericht voldoen niet aan de gestelde eisen
              description: Een of meerdere velden in het bericht voldoen niet aan de gestelde eisen
            dateTime:
              type: string
              format: date-time
              examples:
                - 2024-09-17T09:00:35.374057729+02:00
            invalidParameters:
              $ref: '#/components/schemas/Foutmeldingen/invalidParameters'
              examples: [ ]
          description: Een of meerdere velden in het bericht voldoen niet aan de gestelde eisen
        BBA-PUT-F003:
          title: https://www.rvig.nl/brp/berichten-api/probleem/BBA-PUT-F003
          type: object
          required:
            - title
            - type
            - detail
          properties:
            title:
              type: string
              examples:
                - PUTREQUEST_MESSAGE_COULD_NOT_BE_SEND
              description: PUTREQUEST_MESSAGE_COULD_NOT_BE_SEND
            type:
              type: string
              examples:
                - https://www.rvig.nl/brp/berichten-api/probleem/BBA-PUT-F003
              description: https://www.rvig.nl/brp/berichten-api/probleem/BBA-PUT-F003
            detail:
              type: string
              examples:
                - Het bericht kon niet verzonden worden aan de geadresseerde
              description: Het bericht kon niet verzonden worden aan de geadresseerde
            dateTime:
              type: string
              format: date-time
              examples:
                - 2024-09-17T09:00:35.374057729+02:00
          description: Het bericht kon niet verzonden worden aan de geadresseerde
        BBA-PUT-F004:
          title: https://www.rvig.nl/brp/berichten-api/probleem/BBA-PUT-F004
          type: object
          required:
            - title
            - type
            - detail
          properties:
            title:
              type: string
              examples:
                - PUTREQUEST_SENDER_ACCOUNT_NOT_AVAILABLE
              description: PUTREQUEST_SENDER_ACCOUNT_NOT_AVAILABLE
            type:
              type: string
              examples:
                - https://www.rvig.nl/brp/berichten-api/probleem/BBA-PUT-F004
              description: https://www.rvig.nl/brp/berichten-api/probleem/BBA-PUT-F004
            detail:
              type: string
              examples:
                - "Het bericht kon niet verzonden worden, uw account is niet beschikbaar"
              description: "Het bericht kon niet verzonden worden, uw account is niet beschikbaar"
            dateTime:
              type: string
              format: date-time
              examples:
                - 2024-09-17T09:00:35.374057729+02:00
          description: "Het bericht kon niet verzonden worden, uw account is niet beschikbaar"
      LIST:
        BBA-LIST-F001:
          title: https://www.rvig.nl/brp/berichten-api/probleem/BBA-LIST-F001
          type: object
          required:
            - title
            - type
            - detail
            - invalidParams
          properties:
            title:
              type: string
              examples:
                - LIST_MESSAGE_REQUEST_INVALID_PARAMETERS
              description: LIST_MESSAGE_REQUEST_INVALID_PARAMETERS
            type:
              type: string
              examples:
                - https://www.rvig.nl/brp/berichten-api/probleem/BBA-LIST-F001
              description: https://www.rvig.nl/brp/berichten-api/probleem/BBA-LIST-F001
            detail:
              type: string
              examples:
                - Ongeldige zoekfilters opgegeven
              description: Ongeldige zoekfilters opgegeven
            dateTime:
              type: string
              format: date-time
              examples:
                - 2024-09-17T09:00:35.374057729+02:00
            invalidParameters:
              $ref: '#/components/schemas/Foutmeldingen/invalidParameters'
              examples: [ ]
            instance:
              type: string
              description: Dit (RFC7807) veld beschrijft het request waarbij dit probleem is opgetreden (indien van toepassing).
              examples:
                - https://www.rvig.nl/brp/berichten-api/request/be215b41-a417-4148-b2bf-911b8b8b0133
          description: Ongeldige zoekfilters opgegeven
      GET:
        BBA-GET-F001:
          title: https://www.rvig.nl/brp/berichten-api/probleem/BBA-GET-F001
          type: object
          required:
            - title
            - type
            - detail
          properties:
            title:
              type: string
              examples:
                - GETREQUEST_MESSAGE_CONTENT_EXPIRED
              description: GETREQUEST_MESSAGE_CONTENT_EXPIRED
            type:
              examples:
                - https://www.rvig.nl/brp/berichten-api/probleem/BBA-GET-F001
              type: string
              description: https://www.rvig.nl/brp/berichten-api/probleem/BBA-GET-F001
            detail:
              examples:
                - Het bericht is niet langer beschikbaar omdat de retentietijd verstreken is.
              type: string
              description: Het bericht is niet langer beschikbaar omdat de retentietijd verstreken is.
            dateTime:
              type: string
              format: date-time
              examples:
                - 2024-09-17T09:00:35.374057729+02:00
          description: Het bericht is niet langer beschikbaar omdat de retentietijd verstreken is.
        BBA-GET-F002:
          title: https://www.rvig.nl/brp/berichten-api/probleem/BBA-GET-F002
          type: object
          required:
            - title
            - type
            - detail
          properties:
            title:
              examples:
                - GETREQUEST_MESSAGE_CONTENT_DELETED
              type: string
              description: GETREQUEST_MESSAGE_CONTENT_DELETED
            type:
              examples:
                - https://www.rvig.nl/brp/berichten-api/probleem/BBA-GET-F002
              type: string
              description: https://www.rvig.nl/brp/berichten-api/probleem/BBA-GET-F002
            detail:
              examples:
                - Het bericht is niet langer beschikbaar omdat het verwijderd is.
              type: string
              description: Het bericht is niet langer beschikbaar omdat het verwijderd is.
            dateTime:
              type: string
              format: date-time
              examples:
                - 2024-09-17T09:00:35.374057729+02:00
          description: Het bericht is niet langer beschikbaar omdat het verwijderd is.
        BBA-GET-F003:
          title: https://www.rvig.nl/brp/berichten-api/probleem/BBA-GET-F003
          type: object
          required:
            - title
            - type
            - detail
          properties:
            title:
              examples:
                - GETREQUEST_MESSAGE_NOT_FOUND
              type: string
              description: GETREQUEST_MESSAGE_NOT_FOUND
            type:
              examples:
                - https://www.rvig.nl/brp/berichten-api/probleem/BBA-GET-F003
              type: string
              description: https://www.rvig.nl/brp/berichten-api/probleem/BBA-GET-F003
            detail:
              examples:
                - Onbekend berichtTransportId
              type: string
              description: Onbekend berichtTransportId
            dateTime:
              type: string
              format: date-time
              examples:
                - 2024-09-17T09:00:35.374057729+02:00
          description: Onbekend berichtTransportId
        BBA-GET-F004:
          title: https://www.rvig.nl/brp/berichten-api/probleem/BBA-GET-F004
          type: object
          required:
            - title
            - type
            - detail
          properties:
            title:
              examples:
                - GETREQUEST_REQUESTED_NUMBER_OF_MESSAGES_EXCEEDS_LIMIT
              type: string
              description: GETREQUEST_REQUESTED_NUMBER_OF_MESSAGES_EXCEEDS_LIMIT
            type:
              examples:
                - https://www.rvig.nl/brp/berichten-api/probleem/BBA-GET-F004
              type: string
              description: https://www.rvig.nl/brp/berichten-api/probleem/BBA-GET-F004
            detail:
              examples:
                - Het aantal opgevraagde berichten overschreed het ingestelde limiet
              type: string
              description: Het aantal opgevraagde berichten overschreed het ingestelde limiet
            dateTime:
              type: string
              format: date-time
              examples:
                - 2024-09-17T09:00:35.374057729+02:00
            instance:
              type: string
              description: Dit (RFC7807) veld beschrijft het request waarbij dit probleem is opgetreden (indien van toepassing).
              examples:
                - https://www.rvig.nl/brp/berichten-api/request/be215b41-a417-4148-b2bf-911b8b8b0133
          description: Het aantal opgevraagde berichten overschreed het ingestelde limiet
      DELETE:
        BBA-DELETE-F001:
          title: https://www.rvig.nl/brp/berichten-api/probleem/BBA-DELETE-F001
          type: object
          required:
            - title
            - type
            - detail
          properties:
            title:
              examples:
                - DELETEREQUEST_MESSAGE_EXPIRED
              type: string
              description: DELETEREQUEST_MESSAGE_EXPIRED
            type:
              examples:
                - https://www.rvig.nl/brp/berichten-api/probleem/BBA-DELETE-F001
              type: string
              description: https://www.rvig.nl/brp/berichten-api/probleem/BBA-DELETE-F001
            detail:
              examples:
                - Het bericht is niet langer beschikbaar omdat de retentietijd verstreken is.
              type: string
              description: Het bericht is niet langer beschikbaar omdat de retentietijd verstreken is.
            dateTime:
              type: string
              format: date-time
              examples:
                - 2024-09-17T09:00:35.374057729+02:00
          description: Het bericht is niet langer beschikbaar omdat de retentietijd verstreken is.
        BBA-DELETE-F002:
          title: https://www.rvig.nl/brp/berichten-api/probleem/BBA-DELETE-F002
          type: object
          required:
            - title
            - type
            - detail
          properties:
            title:
              examples:
                - DELETEREQUEST_MESSAGE_DELETED
              type: string
              description: DELETEREQUEST_MESSAGE_DELETED
            type:
              examples:
                - https://www.rvig.nl/brp/berichten-api/probleem/BBA-DELETE-F002
              type: string
              description: https://www.rvig.nl/brp/berichten-api/probleem/BBA-DELETE-F002
            detail:
              examples:
                - Het bericht is niet langer beschikbaar omdat het reeds verwijderd is.
              type: string
              description: Het bericht is niet langer beschikbaar omdat het reeds verwijderd is.
            dateTime:
              type: string
              format: date-time
              examples:
                - 2024-09-17T09:00:35.374057729+02:00
          description: Het bericht is niet langer beschikbaar omdat het reeds verwijderd is.
        BBA-DELETE-F003:
          title: https://www.rvig.nl/brp/berichten-api/probleem/BBA-DELETE-F003
          type: object
          required:
            - title
            - type
            - detail
          properties:
            title:
              examples:
                - DELETEREQUEST_MESSAGE_NOT_FOUND
              type: string
              description: DELETEREQUEST_MESSAGE_NOT_FOUND
            type:
              examples:
                - https://www.rvig.nl/brp/berichten-api/probleem/BBA-DELETE-F003
              type: string
              description: https://www.rvig.nl/brp/berichten-api/probleem/BBA-DELETE-F003
            detail:
              examples:
                - Onbekend berichtTransportId
              type: string
              description: Onbekend berichtTransportId
            dateTime:
              type: string
              format: date-time
              examples:
                - 2024-09-17T09:00:35.374057729+02:00
          description: Onbekend berichtTransportId
        BBA-DELETE-F004:
          title: https://www.rvig.nl/brp/berichten-api/probleem/BBA-DELETE-F004
          type: object
          required:
            - title
            - type
            - detail
          properties:
            title:
              examples:
                - DELETEREQUEST_REQUESTED_NUMBER_OF_MESSAGES_EXCEEDS_LIMIT
              type: string
              description: DELETEREQUEST_REQUESTED_NUMBER_OF_MESSAGES_EXCEEDS_LIMIT
            type:
              examples:
                - https://www.rvig.nl/brp/berichten-api/probleem/BBA-DELETE-F004
              type: string
              description: https://www.rvig.nl/brp/berichten-api/probleem/BBA-DELETE-F004
            detail:
              examples:
                - Het aantal berichten dat in dit verzoek verwijderd dient te worden overschrijft het ingestelde limiet
              type: string
              description: Het aantal berichten dat in dit verzoek verwijderd dient te worden overschrijft het ingestelde limiet
            dateTime:
              type: string
              format: date-time
              examples:
                - 2024-09-17T09:00:35.374057729+02:00
            instance:
              type: string
              description: Dit (RFC7807) veld beschrijft het request waarbij dit probleem is opgetreden (indien van toepassing).
              examples:
                - https://www.rvig.nl/brp/berichten-api/request/be215b41-a417-4148-b2bf-911b8b8b0133
          description: Het aantal berichten dat in dit verzoek verwijderd dient te worden overschrijft het ingestelde limiet
      SUMMARIZE:
        BBA-SUMMARIZE-F001:
          title: https://www.rvig.nl/brp/berichten-api/probleem/BBA-SUMMARIZE-F001
          required:
            - title
            - type
          type: object
          properties:
            title:
              examples:
                - SUMMARIZEREQUEST_INVALID_REQUEST_ERROR
              type: string
              description: SUMMARIZEREQUEST_INVALID_REQUEST_ERROR
            type:
              examples:
                - https://www.rvig.nl/brp/berichten-api/probleem/BBA-SUMMARIZE-F001
              type: string
              description: https://www.rvig.nl/brp/berichten-api/probleem/BBA-SUMMARIZE-F001
            detail:
              examples:
                - Het verzoek is onjuist controleer de zoekparameters.
              type: string
              description: Het verzoek is onjuist controleer de zoekparameters.
            dateTime:
              type: string
              format: date-time
              examples:
                - 2024-09-17T09:00:35.374057729+02:00
            invalidParameters:
              $ref: '#/components/schemas/Foutmeldingen/invalidParameters'
              examples: [ ]
            instance:
              type: string
              description: Dit (RFC7807) veld beschrijft het request waarbij dit probleem is opgetreden (indien van toepassing).
              examples:
                - https://www.rvig.nl/brp/berichten-api/request/be215b41-a417-4148-b2bf-911b8b8b0133
          description: Het verzoek is onjuist controleer de zoekparameters.
      CONV:
        BBA-CONV-F001:
          title: https://www.rvig.nl/brp/berichten-api/probleem/BBA-CONV-F001
          description: Bronformaat en doelformaat zijn gelijk aan elkaar
          type: object
          required:
            - title
            - type
            - detail
            - invalidParameters
          properties:
            title:
              examples:
                - Bronformaat en doelformaat zijn gelijk aan elkaar
              type: string
              description: Bronformaat en doelformaat zijn gelijk aan elkaar
            type:
              examples:
                - https://www.rvig.nl/brp/berichten-api/probleem/BBA-CONV-F001
              type: string
              description: https://www.rvig.nl/brp/berichten-api/probleem/BBA-CONV-F001
            detail:
              examples:
                - bronformaat 'UTF8' is gelijk aan doelformaat 'UTF8'
              type: string
              description: bronformaat '[bronformaat]' is gelijk aan doelformaat '[doelformaat]'
            invalidParameters:
              $ref: '#/components/schemas/Foutmeldingen/invalidParameters'
            dateTime:
              type: string
              format: date-time
              examples:
                - 2024-09-17T09:00:35.374057729+02:00
            instance:
              type: string
              description: Dit (RFC7807) veld beschrijft het request waarbij dit probleem is opgetreden (indien van toepassing).
              examples:
                - https://www.rvig.nl/brp/berichten-api/request/be215b41-a417-4148-b2bf-911b8b8b0133
        BBA-CONV-F002:
          title: https://www.rvig.nl/brp/berichten-api/probleem/BBA-CONV-F002
          description: Content-Type header niet aanwezig
          type: object
          required:
            - title
            - type
            - detail
          properties:
            title:
              examples:
                - Content-Type header niet aanwezig
              type: string
              description: Content-Type header niet aanwezig
            type:
              examples:
                - https://www.rvig.nl/brp/berichten-api/probleem/BBA-CONV-F002
              type: string
              description: https://www.rvig.nl/brp/berichten-api/probleem/BBA-CONV-F002
            detail:
              examples:
                - Er is geen 'Content-Type:' header meegegeven waardoor niet bepaald kon worden welk bron formaat er geleverd is.
              type: string
              description: Er is geen 'Content-Type:' header meegegeven waardoor niet bepaald kon worden welk bron formaat er geleverd is.
            dateTime:
              type: string
              format: date-time
              examples:
                - 2024-09-17T09:00:35.374057729+02:00
            instance:
              type: string
              description: Dit (RFC7807) veld beschrijft het request waarbij dit probleem is opgetreden (indien van toepassing).
              examples:
                - https://www.rvig.nl/brp/berichten-api/request/be215b41-a417-4148-b2bf-911b8b8b0133
        BBA-CONV-F003:
          title: https://www.rvig.nl/brp/berichten-api/probleem/BBA-CONV-F003
          description: Er is geen 'Content-Type:' header meegegeven waardoor niet bepaald kon worden welk bron formaat er geleverd is.
          type: object
          required:
            - title
            - type
            - detail
          properties:
            title:
              examples:
                - Ongeldig bronformaat aangevraagd in 'Content-Type' header
              type: string
              description: Ongeldig bronformaat aangevraagd in 'Content-Type' header
            type:
              examples:
                - https://www.rvig.nl/brp/berichten-api/probleem/BBA-CONV-F003
              type: string
              description: https://www.rvig.nl/brp/berichten-api/probleem/BBA-CONV-F003
            detail:
              examples:
                - Kon bronformaat niet bepalen a.d.h.v. Content-type header text/xml.
              type: string
              description: Kon bronformaat niet bepalen a.d.h.v. Content-type header [content-type].
            dateTime:
              type: string
              format: date-time
              examples:
                - 2024-09-17T09:00:35.374057729+02:00
            instance:
              type: string
              description: Dit (RFC7807) veld beschrijft het request waarbij dit probleem is opgetreden (indien van toepassing).
              examples:
                - https://www.rvig.nl/brp/berichten-api/request/be215b41-a417-4148-b2bf-911b8b8b0133
        BBA-CONV-F004:
          title: https://www.rvig.nl/brp/berichten-api/probleem/BBA-CONV-F004
          description: Accept header niet aanwezig
          type: object
          required:
            - title
            - type
            - detail
          properties:
            title:
              examples:
                - Accept header niet aanwezig
              type: string
              description: Accept header niet aanwezig
            type:
              examples:
                - https://www.rvig.nl/brp/berichten-api/probleem/BBA-CONV-F004
              type: string
              description: https://www.rvig.nl/brp/berichten-api/probleem/BBA-CONV-F004
            detail:
              examples:
                - Er is geen 'Accept:' header meegegeven waardoor niet bepaald kon worden welk doelformaat er gevraagd is.
              type: string
              description: Er is geen 'Accept:' header meegegeven waardoor niet bepaald kon worden welk doelformaat er gevraagd is.
            dateTime:
              type: string
              format: date-time
              examples:
                - 2024-09-17T09:00:35.374057729+02:00
            instance:
              type: string
              description: Dit (RFC7807) veld beschrijft het request waarbij dit probleem is opgetreden (indien van toepassing).
              examples:
                - https://www.rvig.nl/brp/berichten-api/request/be215b41-a417-4148-b2bf-911b8b8b0133
        BBA-CONV-F005:
          title: https://www.rvig.nl/brp/berichten-api/probleem/BBA-CONV-F005
          description: Ongeldig doelformaat aangevraagd in 'Accept' header
          type: object
          required:
            - title
            - type
            - detail
          properties:
            title:
              examples:
                - Ongeldig doelformaat aangevraagd in 'Accept' header
              type: string
              description: Ongeldig doelformaat aangevraagd in 'Accept' header
            type:
              examples:
                - https://www.rvig.nl/brp/berichten-api/probleem/BBA-CONV-F005
              type: string
              description: https://www.rvig.nl/brp/berichten-api/probleem/BBA-CONV-F005
            detail:
              examples:
                - "Kon doelformaat niet bepalen a.d.h.v. Accept header: text/xml"
              type: string
              description: "Kon doelformaat niet bepalen a.d.h.v. Accept header: [accept-header]"
            dateTime:
              type: string
              format: date-time
              examples:
                - 2024-09-17T09:00:35.374057729+02:00
            instance:
              type: string
              description: Dit (RFC7807) veld beschrijft het request waarbij dit probleem is opgetreden (indien van toepassing).
              examples:
                - https://www.rvig.nl/brp/berichten-api/request/be215b41-a417-4148-b2bf-911b8b8b0133
        BBA-CONV-F006:
          title: https://www.rvig.nl/brp/berichten-api/probleem/BBA-CONV-F006
          description: Inputbericht is niet valide
          type: object
          required:
            - title
            - type
            - detail
          properties:
            title:
              examples:
                - Inputbericht is niet valide
              type: string
              description: Inputbericht is niet valide
            type:
              examples:
                - https://www.rvig.nl/brp/berichten-api/probleem/BBA-CONV-F006
              type: string
              description: https://www.rvig.nl/brp/berichten-api/probleem/BBA-CONV-F006
            detail:
              examples:
                - "Het aangeleverde bericht kon niet ingenomen worden en voldoet waarschijnlijk niet aan de gestelde vereisten, foutmelding was: Inconsistente berichtlengte"
              type: string
              description: "Het aangeleverde bericht kon niet ingenomen worden en voldoet waarschijnlijk niet aan de gestelde vereisten, foutmelding was: [foutmelding]"
            dateTime:
              type: string
              format: date-time
              examples:
                - 2024-09-17T09:00:35.374057729+02:00
            instance:
              type: string
              description: Dit (RFC7807) veld beschrijft het request waarbij dit probleem is opgetreden (indien van toepassing).
              examples:
                - https://www.rvig.nl/brp/berichten-api/request/be215b41-a417-4148-b2bf-911b8b8b0133
      GENERAL:
        BBA-F999:
          title: https://www.rvig.nl/brp/berichten-api/probleem/BBA-F999
          required:
            - title
            - type
          type: object
          properties:
            title:
              examples:
                - SERVER_
              type: string
              description: TECHNICAL_ERROR
            type:
              examples:
                - https://www.rvig.nl/brp/berichten-api/probleem/BBA-F999
              type: string
              description: https://www.rvig.nl/brp/berichten-api/probleem/BBA-F999
            detail:
              examples:
                - Onbekende (/technische) fout.
              type: string
              description: Onbekende (/technische) fout.
            dateTime:
              type: string
              format: date-time
              examples:
                - 2024-09-17T09:00:35.374057729+02:00
            instance:
              type: string
              description: Dit (RFC7807) veld beschrijft het request waarbij dit probleem is opgetreden (indien van toepassing).
              examples:
                - https://www.rvig.nl/brp/berichten-api/request/be215b41-a417-4148-b2bf-911b8b8b0133
          description: Onbekende (/technische) fout.
    LoBericht:
      oneOf:
        - $ref: "brp/schemas/2024Q3/berichten.schema.json#/berichtsoorten/Af01Bericht"
        - $ref: "brp/schemas/2024Q3/berichten.schema.json#/berichtsoorten/Af11Bericht"
        - $ref: "brp/schemas/2024Q3/berichten.schema.json#/berichtsoorten/Ag01Bericht"
        - $ref: "brp/schemas/2024Q3/berichten.schema.json#/berichtsoorten/Ag11Bericht"
        - $ref: "brp/schemas/2024Q3/berichten.schema.json#/berichtsoorten/Ag21Bericht"
        - $ref: "brp/schemas/2024Q3/berichten.schema.json#/berichtsoorten/Ag31Bericht"
        - $ref: "brp/schemas/2024Q3/berichten.schema.json#/berichtsoorten/Ap01Bericht"
        - $ref: "brp/schemas/2024Q3/berichten.schema.json#/berichtsoorten/Av01Bericht"
        - $ref: "brp/schemas/2024Q3/berichten.schema.json#/berichtsoorten/Cb01Bericht"
        - $ref: "brp/schemas/2024Q3/berichten.schema.json#/berichtsoorten/Ct01Bericht"
        - $ref: "brp/schemas/2024Q3/berichten.schema.json#/berichtsoorten/Cw01Bericht"
        - $ref: "brp/schemas/2024Q3/berichten.schema.json#/berichtsoorten/Dt01Bericht"
        - $ref: "brp/schemas/2024Q3/berichten.schema.json#/berichtsoorten/Dw01Bericht"
        - $ref: "brp/schemas/2024Q3/berichten.schema.json#/berichtsoorten/Gv01Bericht"
        - $ref: "brp/schemas/2024Q3/berichten.schema.json#/berichtsoorten/Gv02Bericht"
        - $ref: "brp/schemas/2024Q3/berichten.schema.json#/berichtsoorten/Ha01Bericht"
        - $ref: "brp/schemas/2024Q3/berichten.schema.json#/berichtsoorten/Hf01Bericht"
        - $ref: "brp/schemas/2024Q3/berichten.schema.json#/berichtsoorten/Hq01Bericht"
        - $ref: "brp/schemas/2024Q3/berichten.schema.json#/berichtsoorten/Ib01Bericht"
        - $ref: "brp/schemas/2024Q3/berichten.schema.json#/berichtsoorten/If01Bericht"
        - $ref: "brp/schemas/2024Q3/berichten.schema.json#/berichtsoorten/If21Bericht"
        - $ref: "brp/schemas/2024Q3/berichten.schema.json#/berichtsoorten/If31Bericht"
        - $ref: "brp/schemas/2024Q3/berichten.schema.json#/berichtsoorten/If41Bericht"
        - $ref: "brp/schemas/2024Q3/berichten.schema.json#/berichtsoorten/Ii01Bericht"
        - $ref: "brp/schemas/2024Q3/berichten.schema.json#/berichtsoorten/Iv01Bericht"
        - $ref: "brp/schemas/2024Q3/berichten.schema.json#/berichtsoorten/Iv11Bericht"
        - $ref: "brp/schemas/2024Q3/berichten.schema.json#/berichtsoorten/Iv21Bericht"
        - $ref: "brp/schemas/2024Q3/berichten.schema.json#/berichtsoorten/Jb01Bericht"
        - $ref: "brp/schemas/2024Q3/berichten.schema.json#/berichtsoorten/Jf01Bericht"
        - $ref: "brp/schemas/2024Q3/berichten.schema.json#/berichtsoorten/Jf21Bericht"
        - $ref: "brp/schemas/2024Q3/berichten.schema.json#/berichtsoorten/Jf31Bericht"
        - $ref: "brp/schemas/2024Q3/berichten.schema.json#/berichtsoorten/Ji01Bericht"
        - $ref: "brp/schemas/2024Q3/berichten.schema.json#/berichtsoorten/Jv01Bericht"
        - $ref: "brp/schemas/2024Q3/berichten.schema.json#/berichtsoorten/La01Bericht"
        - $ref: "brp/schemas/2024Q3/berichten.schema.json#/berichtsoorten/Lf01Bericht"
        - $ref: "brp/schemas/2024Q3/berichten.schema.json#/berichtsoorten/Lg01Bericht"
        - $ref: "brp/schemas/2024Q3/berichten.schema.json#/berichtsoorten/Lq01Bericht"
        - $ref: "brp/schemas/2024Q3/berichten.schema.json#/berichtsoorten/Ng01Bericht"
        - $ref: "brp/schemas/2024Q3/berichten.schema.json#/berichtsoorten/NullBericht"
        - $ref: "brp/schemas/2024Q3/berichten.schema.json#/berichtsoorten/Of11Bericht"
        - $ref: "brp/schemas/2024Q3/berichten.schema.json#/berichtsoorten/Og11Bericht"
        - $ref: "brp/schemas/2024Q3/berichten.schema.json#/berichtsoorten/Pf01Bericht"
        - $ref: "brp/schemas/2024Q3/berichten.schema.json#/berichtsoorten/Pf02Bericht"
        - $ref: "brp/schemas/2024Q3/berichten.schema.json#/berichtsoorten/Pf03Bericht"
        - $ref: "brp/schemas/2024Q3/berichten.schema.json#/berichtsoorten/Rb01Bericht"
        - $ref: "brp/schemas/2024Q3/berichten.schema.json#/berichtsoorten/Rf01Bericht"
        - $ref: "brp/schemas/2024Q3/berichten.schema.json#/berichtsoorten/Rf31Bericht"
        - $ref: "brp/schemas/2024Q3/berichten.schema.json#/berichtsoorten/Rv01Bericht"
        - $ref: "brp/schemas/2024Q3/berichten.schema.json#/berichtsoorten/Sv01Bericht"
        - $ref: "brp/schemas/2024Q3/berichten.schema.json#/berichtsoorten/Sv11Bericht"
        - $ref: "brp/schemas/2024Q3/berichten.schema.json#/berichtsoorten/Tb01Bericht"
        - $ref: "brp/schemas/2024Q3/berichten.schema.json#/berichtsoorten/Tb02Bericht"
        - $ref: "brp/schemas/2024Q3/berichten.schema.json#/berichtsoorten/Tf01Bericht"
        - $ref: "brp/schemas/2024Q3/berichten.schema.json#/berichtsoorten/Tf11Bericht"
        - $ref: "brp/schemas/2024Q3/berichten.schema.json#/berichtsoorten/Tf21Bericht"
        - $ref: "brp/schemas/2024Q3/berichten.schema.json#/berichtsoorten/Tv01Bericht"
        - $ref: "brp/schemas/2024Q3/berichten.schema.json#/berichtsoorten/Vb01Bericht"
        - $ref: "brp/schemas/2024Q3/berichten.schema.json#/berichtsoorten/Vb02Bericht"
        - $ref: "brp/schemas/2024Q3/berichten.schema.json#/berichtsoorten/Wa01Bericht"
        - $ref: "brp/schemas/2024Q3/berichten.schema.json#/berichtsoorten/Wa11Bericht"
        - $ref: "brp/schemas/2024Q3/berichten.schema.json#/berichtsoorten/Wf01Bericht"
        - $ref: "brp/schemas/2024Q3/berichten.schema.json#/berichtsoorten/Xa01Bericht"
        - $ref: "brp/schemas/2024Q3/berichten.schema.json#/berichtsoorten/Xf01Bericht"
        - $ref: "brp/schemas/2024Q3/berichten.schema.json#/berichtsoorten/Xq01Bericht"
      discriminator:
        propertyName: berichtType

  responses:
    '202':
      description: Verzoek is geaccepteerd en wordt op een later moment verwerkt.
    '204':
      description: Verzoek is goed verwerkt, maar heeft geen inhoudelijke response.
    '500':
      description: Interne technische fout
      content:
        application/problem+json:
          schema:
            $ref: '#/components/schemas/Foutmelding'

  parameters:
    paginaParam:
      in: query
      name: pagina
      schema:
        type: integer
        default: 1
      required: false
      description: Pagina nummer, startend bij 1 t/m N (niet bij 0).

    berichtTransportIdsParam:
      in: path
      name: berichtTransportIdsParam
      required: true
      description: >
        Een UUID of meerdere UUID's van het bericht(en) die opgehaald moet worden. Indien meerdere UUID's, dan scheiden met een komma.
        Deze query parameter verwijst naar het berichtenId zoals deze bij de "BRP berichten API" bekend is, niet te verwarren met het
        BerichtId dat door de verzender is opgegeven. U verkrijgt deze UUID's middels een request naar `/berichten`.
      schema:
        type: array
        items:
          $ref: '#/components/schemas/BerichtTransportId'
      examples:
        enkel:
          value: "28122289-f2f2-41c3-b33d-4c25c6620e9b"
          summary: "Een enkel bericht"
        meerdere:
          value: "30e24fd3-d625-4bbb-8793-0c053c2aae1b,9873f20d-587d-4d34-be17-ad9f06513fa1,22a98387-776e-47fa-be91-891c47adb70a"
          summary: "Meerdere berichten"
      style: simple
      explode: true

  securitySchemes:
    DemoBasicAuth:
      description: "Demo-omgeving (DEMO). Login met elk willekeurig account/mailbox-nummer als gebruikersnaam. Een wachtwoord kunt u opvragen via brp.berichtenapi@rvig.nl."
      type: http
      scheme: basic
    DemoOAuth:
      type: oauth2
      description: "Demo-omgeving (DEMO) - Let op, extra parameter resourceServer moet toegevoegd worden. client_id = het mailboxnummer, client_secret kunt u opvragen via brp.berichtenapi@rvig.nl."
      flows:
        clientCredentials:
          tokenUrl: https://brp-berichten-api.dictua.ictu-sr.nl/api/v1/demo-accounts/oauth2/token
          scopes:
            demo-bba-mailboxid: "'mailboxid' dient vervangen te worden met het daadwerkelijke nummer van de mailbox."
          x-custom-parameters:
            - name: resourceServer
              description: "Een noodzakelijke additionele property. In de demo omgeving heeft deze de waarde 'ResourceServer01'."
    AccOAuth:
      type: oauth2
      description: "Acceptatieomgeving (ACC) - Let op, extra parameter resourceServer moet toegevoegd worden"
      flows:
        clientCredentials:
          tokenUrl: https://auth.npr.idm.diginetwerk.net/nidp/oauth/nam/token
          scopes:
            acc-bba-mailboxid: "'mailboxid' dient vervangen te worden met het daadwerkelijke nummer van de mailbox."
          x-custom-parameters:
            - name: resourceServer
              description: "Een noodzakelijke additionele property."
    LapOAuth:
      type: oauth2
      description: "Proefomgeving (LAP) - Let op, extra parameter resourceServer moet toegevoegd worden"
      flows:
        clientCredentials:
          tokenUrl: https://auth.npr.idm.diginetwerk.net/nidp/oauth/nam/token
          scopes:
            lap-bba-mailboxid: "'mailboxid' dient vervangen te worden met het daadwerkelijke nummer van de mailbox."
          x-custom-parameters:
            - name: resourceServer
              description: "Een noodzakelijke additionele property."
    PrdOAuth:
      type: oauth2
      description: "Productieomgeving (PRD) - Let op, extra parameter resourceServer moet toegevoegd worden"
      flows:
        clientCredentials:
          tokenUrl: https://auth.idm.diginetwerk.net/nidp/oauth/nam/token
          scopes:
            bba-mailboxid: "'mailboxid' dient vervangen te worden met het daadwerkelijke nummer van de mailbox."
          x-custom-parameters:
            - name: resourceServer
              description: "Een noodzakelijke additionele property."
    MutualTLSWithPKIOverheid:
      type: mutualTLS
      description: "In de Acceptatieomgeving (ACC), Proefomgeving (LAP) en Productieomgeving (PRD) is tweezijdig TLS middels een geldig PKI-Overheid certificaat vereist. Raadpleeg voor meer informatie de voorschriften van Logius: Digikoppeling Beveiligingstandaarden en voorschriften (https://gitdocumentatie.logius.nl/publicatie/dk/beveilig/)"
